<!-- START PAGE CONTAINER -->
<div class="page-container">

    <!-- START PAGE SIDEBAR -->
    <slider-bar ></slider-bar>
    <!-- END PAGE SIDEBAR -->

    <!-- PAGE CONTENT -->
    <div class="page-content">

        <!-- START X-NAVIGATION VERTICAL -->
        <header-menu></header-menu>
        <!-- END X-NAVIGATION VERTICAL -->

        <!-- START BREADCRUMB -->
        <ul class="breadcrumb">
            <li><a href="#/">{{'HOME' | translate}}</a></li>
            <li class="active">{{'ITEMS' | translate}}</li>
        </ul>
        <!-- END BREADCRUMB -->

        <!-- PAGE CONTENT WRAPPER -->
        <div class="page-content-wrap">

            <div class="row">
                <div class="col-md-12">

                    <!-- START DATATABLE EXPORT -->
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">{{'ALL_ITEMS' | translate}}</h3>
                            <div class="btn-group pull-right">
                                <button class="btn btn-success" data-toggle="modal" data-target="#new-item-form"><i class="fa fa-plus-circle"></i>{{'ADD_NEW_ITEM' | translate}}</button>
                                <button class="btn btn-danger dropdown-toggle" data-toggle="dropdown"><i class="fa fa-bars"></i> {{'EXPORT_DATA' | translate}}</button>
                                <ul class="dropdown-menu">
                                    <li><a href="#" onClick ="$('#table-audit').tableExport({type:'json',escape:'false'});"><img src='img/icons/json.png' width="24"/> JSON</a></li>
                                    <li><a href="#" onClick ="$('#table-audit').tableExport({type:'json',escape:'false',ignoreColumn:'[2,3]'});"><img src='img/icons/json.png' width="24"/> JSON (ignoreColumn)</a></li>
                                    <li><a href="#" onClick ="$('#table-audit').tableExport({type:'json',escape:'true'});"><img src='img/icons/json.png' width="24"/> JSON (with Escape)</a></li>
                                    <li class="divider"></li>
                                    <li><a href="#" onClick ="$('#table-audit').tableExport({type:'xml',escape:'false'});"><img src='img/icons/xml.png' width="24"/> XML</a></li>
                                    <li><a href="#" onClick ="$('#table-audit').tableExport({type:'sql'});"><img src='img/icons/sql.png' width="24"/> SQL</a></li>
                                    <li class="divider"></li>
                                    <li><a href="#" onClick ="$('#table-audit').tableExport({type:'csv',escape:'false'});"><img src='img/icons/csv.png' width="24"/> CSV</a></li>
                                    <li><a href="#" onClick ="$('#table-audit').tableExport({type:'txt',escape:'false'});"><img src='img/icons/txt.png' width="24"/> TXT</a></li>
                                    <li class="divider"></li>
                                    <li><a href="#" onClick ="$('#table-audit').tableExport({type:'excel',escape:'false'});"><img src='img/icons/xls.png' width="24"/> XLS</a></li>
                                    <li><a href="#" onClick ="$('#table-audit').tableExport({type:'doc',escape:'false'});"><img src='img/icons/word.png' width="24"/> Word</a></li>
                                    <li><a href="#" onClick ="$('#table-audit').tableExport({type:'powerpoint',escape:'false'});"><img src='img/icons/ppt.png' width="24"/> PowerPoint</a></li>
                                    <li class="divider"></li>
                                    <li><a href="#" onClick ="$('#table-audit').tableExport({type:'png',escape:'false'});"><img src='img/icons/png.png' width="24"/> PNG</a></li>
                                    <li><a href="#" onClick ="$('#table-audit').tableExport({type:'pdf',escape:'false'});"><img src='img/icons/pdf.png' width="24"/> PDF</a></li>
                                </ul>
                            </div>

                        </div>
                        <div class="panel-body">
                            <table id="items" datatable="ng" class="table">
                                <thead>
                                <tr>
                                    <th>{{'NAME' | translate}}</th>
                                    <th>{{'NODES' | translate}}</th>
                                    <th>{{'CUSTOMERS' | translate}}</th>
                                    <th>x,y,w,h</th>
                                    <th>{{'SEND_RATE' | translate}}</th>
                                    <th>{{'STATUS' | translate}}</th>
                                    <th>{{'ITEM_TYPE' | translate}}</th>
                                    <th>{{'ITEM_TYPE_DESCRIPITON' | translate}}</th>
                                    <th>{{'DETAIL' | translate}}</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="item in items">
                                    <td>{{item.name}}</td>
                                    <td><a href="#/node/edit/{{item.node.nodeID}}">{{item.node.name}}</a> </td>
                                    <td><a href="#/csutomer/edit/{{item.node.customer.customerID}}">{{item.node.customer.name}}</a> </td>
                                    <td>{{item.x}},{{item.y}},{{item.w}},{{item.h}}</td>
                                    <td>{{item.sendRate}}</td>
                                    <td><span class="label label-success">{{item.status}}</span></td>
                                    <td>{{item.itemType.name}}</td>
                                    <td>{{item.itemType.description}}</td>
                                    <th><a href="#/item/edit/{{item.itemID}}" type="button" class="btn btn-info">{{'SHOW_DETAIL' | translate}}</a></th>
                                </tr>
                                </tbody>
                            </table>

                        </div>
                    </div>
                    <!-- END DATATABLE EXPORT -->

                </div>
            </div>

        </div>
        <!-- END PAGE CONTENT WRAPPER -->
    </div>
    <!-- END PAGE CONTENT -->
</div>
<!-- END PAGE CONTAINER -->

<!--START MODALS -->
<div class="modal" id="new-item-form" tabindex="-1" role="dialog" aria-labelledby="largeModalHead" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">{{'CLOSE' | translate}}</span></button>
                <h4 class="modal-title" id="largeModalHead">{{'ADD_NEW_ITEM' | translate}}</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">

                        <form class="form-horizontal" id="newItemForm" name ="newItemForm" role="form" ng-submit="addItem(newItemForm.$valid,item)" novalidate>

                            <div class="panel panel-default tabs">
                                <div class="panel-body tab-content">
                                    <div class="tab-pane active" id="tab-first">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed dictum dolor sem, quis pharetra dui ultricies vel. Cras non pulvinar tellus, vel bibendum magna. Morbi tellus nulla, cursus non nisi sed, porttitor dignissim erat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc facilisis commodo lectus. Vivamus vel tincidunt enim, non vulputate ipsum. Ut pellentesque consectetur arcu sit amet scelerisque. Fusce commodo leo eros, ut eleifend massa congue at.</p>
                                            </div>
                                            <div class="col-md-6">

                                                <div class="form-group" ng-class="{ 'has-error' : newItemForm.name.$invalid }">
                                                    <label class="col-md-3 col-xs-12 control-label">{{'ITEM_NAME' | translate}}</label>
                                                    <div class="col-md-9 col-xs-12">
                                                        <input type="text" class="form-control" ng-model="item.name" id="name"/>
                                                        <p ng-show="newItemForm.name.$dirty && newItemForm.name.$invalid" class="help-block">{{'ITEM_NAME_IS_REQUIRED' | translate}}</p>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-3 col-xs-12 control-label">{{'NODE' | translate}}</label>
                                                    <div class="col-md-9 col-xs-12">
                                                        <select class="form-control "
                                                                ng-options="option.name for option in nodes track by option.nodeID"
                                                                ng-model="item.node">
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label class="col-md-3 col-xs-12 control-label">{{'DATA' | translate}}</label>
                                                    <div class="col-md-9 col-xs-12">
                                                        <div class="form-group">
                                                            <div class="col-md-4 col-xs-4">
                                                                <label class="control-label">{{'VALUE' | translate}} x</label>
                                                                <input type="text" class="form-control" ng-model="item.x"/>
                                                            </div>
                                                            <div class="col-md-4 col-xs-4">
                                                                <label class="control-label">{{'VALUE' | translate}} y</label>
                                                                <input type="text" class="form-control" ng-model="item.y"/>
                                                            </div>
                                                            <div class="col-md-4 col-xs-4">
                                                                <label class="control-label">{{'VALUE' | translate}} {{'WIDTH' | translate}}</label>
                                                                <input type="text" class="form-control" ng-model="item.w"/>
                                                            </div>
                                                            <div class="col-md-4 col-xs-4">
                                                                <label class="control-label">{{'VALUE' | translate}} {{'HEIGHT' | translate}}</label>
                                                                <input type="text" class="form-control"ng-model="item.h"/>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="col-md-3 col-xs-12 control-label">{{'SEND_RATE' | translate}}</label>
                                                    <div class="col-md-9 col-xs-12">
                                                        <input type="number" class="form-control" ng-model="item.sendRate"/>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label class="col-md-3 col-xs-12 control-label">{{'ITEM_TYPE' | translate}}</label>
                                                    <div class="col-md-9 col-xs-12">
                                                        <select class="form-control "
                                                                ng-options="option.name for option in itemTypes track by option.typeID"
                                                                ng-model="item.itemType">
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label class="col-md-3 col-xs-12 control-label">{{'ITEM_TYPE_DESCRIPITON' | translate}}</label>
                                                    <div class="col-md-9 col-xs-12">
                                                        <textarea readonly class="form-control" rows="5" ng-model="item.itemType.description"></textarea>
                                                        <span class="help-block">Something about your item</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel-footer">
                                    <button class="btn btn-primary pull-right">{{'SAVE_CHANGES' | translate}} <span class="fa fa-floppy-o fa-right"></span></button>
                                </div>
                            </div>

                        </form>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">{{'CLOSE' | translate}}</button>
            </div>
        </div>
    </div>
</div>
<!--END MODALS-->






